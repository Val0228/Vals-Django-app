/* ===============================
   Modern theme + safe background
   =============================== */

:root {
  /* Palette */
  --bg: #f7f8fa;
  --card: #ffffff;
  --text: #222;
  --muted: #6b7280;
  --primary: #3b82f6;
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
  --border: #e5e7eb;
  --shadow: 0 10px 25px rgba(0,0,0,0.06);
  --shadow-sm: 0 4px 12px rgba(0,0,0,0.05);

  /* Layout */
  --radius: 14px;
  --radius-sm: 10px;

  /* Timing */
  --fast: 160ms;
  --normal: 240ms;
  --slow: 420ms;
}

/* Reduce motion for accessibility/perf */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}

/* Optional dark mode */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f172a;
    --card: #111827;
    --text: #f3f4f6;
    --muted: #9ca3af;
    --primary: #60a5fa;
    --primary-600: #3b82f6;
    --primary-700: #2563eb;
    --border: #1f2937;
    --shadow: 0 10px 25px rgba(0,0,0,0.35);
    --shadow-sm: 0 4px 12px rgba(0,0,0,0.3);
  }
}

html { scroll-behavior: smooth; }
html, body { min-height: 100%; }

body {
  background-color: var(--bg); /* solid fallback */
  color: var(--text);
  margin-top: 5rem;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.6;
  overflow-x: hidden;
  position: relative;
}

/* Unbreakable decorative layer (no tiling, mobile-safe) */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background-image:
    radial-gradient(1200px 800px at 10% 0%, rgba(59,130,246,0.06), transparent 50%),
    radial-gradient(1200px 800px at 90% 10%, rgba(16,185,129,0.06), transparent 50%);
  background-repeat: no-repeat, no-repeat;
  background-position: left top, right 10% top;
  background-size: 1200px 800px, 1200px 800px;
}

@media (prefers-color-scheme: dark) {
  body::before {
    background-image:
      radial-gradient(1100px 700px at 12% -5%, rgba(96,165,250,0.08), transparent 55%),
      radial-gradient(1100px 700px at 88% 5%, rgba(34,197,94,0.07), transparent 55%);
  }
}

/* ===============================
   Base elements + links
   =============================== */

h1, h2, h3, h4, h5, h6 {
  color: var(--text);
  letter-spacing: -0.01em;
}

ul { margin: 0; padding-left: 1.1rem; }

a {
  color: var(--primary);
  text-decoration: none;
  transition: color var(--fast) ease, text-shadow var(--fast) ease, opacity var(--fast) ease;
}
a:hover, a:focus-visible {
  color: var(--primary-600);
  outline: none;
}

/* Fancy underline for inline links */
a:not(.btn, .navbar-brand, .nav-link) {
  background-image: linear-gradient(currentColor, currentColor);
  background-size: 0% 2px;
  background-position: 0 100%;
  background-repeat: no-repeat;
  transition: background-size var(--normal) ease, color var(--fast) ease;
}
a:not(.btn, .navbar-brand, .nav-link):hover { background-size: 100% 2px; }

/* ===============================
   Navbar / Header
   =============================== */

.bg-steel {
  background: linear-gradient(135deg, #5f788a 0%, #445a68 100%);
  box-shadow: var(--shadow);
}

.site-header .navbar-nav .nav-link {
  color: #dce5ea;
  position: relative;
  padding: 0.5rem 0.75rem;
  transition: color var(--fast) ease, transform var(--fast) ease, opacity var(--fast) ease;
  opacity: 0.9;
}
.site-header .navbar-nav .nav-link:hover,
.site-header .navbar-nav .nav-link:focus-visible {
  color: #fff;
  opacity: 1;
  transform: translateY(-1px);
}
.site-header .navbar-nav .nav-link::after {
  content: "";
  position: absolute;
  left: 0.75rem; right: 0.75rem; bottom: 0.2rem;
  height: 2px; background: currentColor; border-radius: 999px;
  transform: scaleX(0);
  transform-origin: 0 50%;
  transition: transform var(--normal) cubic-bezier(.2,.8,.2,1);
}
.site-header .navbar-nav .nav-link:hover::after,
.site-header .navbar-nav .nav-link:focus-visible::after { transform: scaleX(1); }

/* (Fixed selector) */
.site-header .navbar-nav .nav-link.active {
  font-weight: 600;
  color: #fff;
}

/* ===============================
   Cards / Content blocks
   =============================== */

.content-section {
  background: var(--card);
  padding: 1.25rem 1.5rem;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  margin-bottom: 1.25rem;
  box-shadow: var(--shadow-sm);
  transition: transform var(--normal) ease, box-shadow var(--normal) ease, border-color var(--fast) ease, background-color var(--fast) ease;
  animation: fadeSlideIn var(--normal) ease both;
}
.content-section:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow);
  border-color: rgba(59,130,246,0.25);
}

/* ===============================
   Article / profile styles
   =============================== */

.article-title {
  color: var(--text);
  font-weight: 700;
  letter-spacing: -0.01em;
  line-height: 1.3;
  transition: color var(--fast) ease;
}
a.article-title:hover { color: var(--primary); }

.article-metadata {
  padding-bottom: 4px;
  margin-bottom: 10px;
  border-bottom: 1px dashed var(--border);
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}
.article-metadata a { color: var(--muted); }
.article-metadata a:hover { color: var(--text); }

.article-content { white-space: pre-line; color: var(--text); }

.article-img {
  height: 64px; width: 64px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 16px;
  box-shadow: var(--shadow-sm);
  transition: transform var(--normal) ease, box-shadow var(--normal) ease, filter var(--fast) ease;
}
.article-img:hover { transform: translateY(-2px) scale(1.02); box-shadow: var(--shadow); filter: saturate(1.05); }

.article-svg { width: 24px; height: 24px; vertical-align: middle; opacity: 0.9; transition: opacity var(--fast) ease, transform var(--fast) ease; }
.article-svg:hover { opacity: 1; transform: translateY(-1px); }

.account-img {
  height: 120px; width: 120px; border-radius: 24px; object-fit: cover;
  margin-right: 20px; margin-bottom: 16px; box-shadow: var(--shadow);
}
.account-heading {
  font-size: clamp(1.75rem, 1.2rem + 2vw, 2.5rem);
  font-weight: 800; letter-spacing: -0.02em;
}

/* ===============================
   Buttons (enhance Bootstrap)
   =============================== */

.btn, button, input[type="submit"] {
  transition: transform var(--fast) ease, box-shadow var(--fast) ease, background-color var(--fast) ease, color var(--fast) ease;
  border-radius: var(--radius-sm);
}
.btn:hover, button:hover, input[type="submit"]:hover { transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn:active, button:active, input[type="submit"]:active { transform: translateY(0); box-shadow: none; }

.btn-primary { background: linear-gradient(180deg, var(--primary) 0%, var(--primary-600) 100%); border: none; }
.btn-primary:hover { background: linear-gradient(180deg, var(--primary-600) 0%, var(--primary-700) 100%); }

/* Soft variant */
.btn-soft {
  background: rgba(59,130,246,0.12);
  color: var(--primary-700);
  border: 1px solid rgba(59,130,246,0.25);
}
.btn-soft:hover { background: rgba(59,130,246,0.18); }

/* ===============================
   Utilities
   =============================== */

.shadow-hover:hover { box-shadow: var(--shadow); }
.rounded-xl { border-radius: var(--radius); }
.rounded-lg { border-radius: var(--radius-sm); }
.text-muted-2 { color: var(--muted) !important; }
.border-subtle { border: 1px solid var(--border); }

.glass {
  background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.35));
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.4);
  border-radius: var(--radius);
}

/* ===============================
   Keyframes (used by hovers & reveal)
   =============================== */

@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes lift {
  from { transform: translateY(0); }
  to   { transform: translateY(-3px); }
}
@keyframes subtlePulse {
  0%, 100% { transform: translateZ(0); }
  50% { transform: translateZ(0) scale(1.01); }
}

/* ===============================
   Scroll-reveal animations
   Add class .is-visible via JS to trigger
   =============================== */

/* Base state (hidden until visible) */
.reveal,
.reveal-up,
.reveal-down,
.reveal-left,
.reveal-right,
.reveal-scale,
.reveal-fade {
  opacity: 0;
  transform: translateZ(0);
  will-change: transform, opacity;
}

/* Variants (initial offset) */
.reveal-up   { transform: translateY(18px); }
.reveal-down { transform: translateY(-18px); }
.reveal-left { transform: translateX(18px); }
.reveal-right{ transform: translateX(-18px); }
.reveal-scale{ transform: scale(.97); }

/* When visible */
.reveal.is-visible,
.reveal-up.is-visible,
.reveal-down.is-visible,
.reveal-left.is-visible,
.reveal-right.is-visible,
.reveal-scale.is-visible,
.reveal-fade.is-visible {
  opacity: 1;
  transform: none;
  transition:
    opacity var(--slow) cubic-bezier(.2,.8,.2,1),
    transform var(--slow) cubic-bezier(.2,.8,.2,1);
}

/* Stagger helperâ€”use on a parent to stagger children */
.stagger > * {
  transition-delay: 0ms;
}
.stagger > *:nth-child(1)  { transition-delay: 40ms; }
.stagger > *:nth-child(2)  { transition-delay: 80ms; }
.stagger > *:nth-child(3)  { transition-delay: 120ms; }
.stagger > *:nth-child(4)  { transition-delay: 160ms; }
.stagger > *:nth-child(5)  { transition-delay: 200ms; }
.stagger > *:nth-child(6)  { transition-delay: 240ms; }
.stagger > *:nth-child(7)  { transition-delay: 280ms; }
.stagger > *:nth-child(8)  { transition-delay: 320ms; }

/* Optional hover micro-interactions */
.hover-lift { transition: transform var(--fast) ease, box-shadow var(--fast) ease; }
.hover-lift:hover { transform: translateY(-3px); box-shadow: var(--shadow); }

.hover-glow {
  transition: box-shadow var(--fast) ease;
  box-shadow: 0 0 0 rgba(59,130,246,0);
}
.hover-glow:hover {
  box-shadow: 0 10px 30px rgba(59,130,246,0.25);
}
